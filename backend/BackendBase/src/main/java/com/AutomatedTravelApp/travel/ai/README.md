# AIEngine README
## Overview

AIEngine is a Java class that interacts with Gemini AI to generate a complete travel itinerary in JSON format. It takes in a Trip object and a GenerateItineraryResponse object, generates a detailed itinerary based on travel style, pacing rules, and user preferences, and outputs a clean, parsable JSON string.

The generated JSON is also stored in a class-level variable finalJson, which allows you to access it from other files without returning it every time.

Class Structure

## Fields:

- **client**: Gemini AI client.

- **objectMapper**: For validating JSON output.

- **DATE_FORMAT**: Standard date formatting.

- **finalJson**: Stores the last generated JSON output; accessible from other files.

## Methods:

- **generateItineraryJson(Trip trip, GenerateItineraryResponse responseData)**: Generates the itinerary JSON and stores it in finalJson.

- **cleanJson(String raw)**: Cleans raw AI output into valid JSON.

## How It Works

### Prepare Input Objects:

- **Trip**: Contains trip details like destination, dates, budget, user preferences, and daily activities.

- **GenerateItineraryResponse**: Contains optional itinerary ID and travel style.

- Generate Prompt:

- The AI prompt includes:

    - Required JSON structure.

    - Budget and currency information.

    - Travel style and pacing rules.

    - Trip details: origin, destination, start/end dates, and preferences.

- Call Gemini AI:

    - Uses client.models.generateContent() to generate raw itinerary JSON.

- Clean JSON:

    - Removes any markdown or extra text from the AI output.

- Stores the final clean JSON in finalJson.

## Usage Instructions
-   Step 1: Import AIEngine
    import com.AutomatedTravelApp.travel.ai.AIEngine;

- Step 2: Create an instance of AIEngine
    AIEngine engine = new AIEngine();

-  Step 3: Prepare your Trip and GenerateItineraryResponse objects
    Trip trip = ...; // create or fetch your Trip object
    GenerateItineraryResponse responseData = ...; // create or fetch response object

- Step 4: Generate the itinerary JSON
    engine.generateItineraryJson(trip, responseData);

- Step 5: Access the final JSON
    System.out.println(engine.finalJson); // final itinerary JSON


## Notes:

You must call generateItineraryJson() first; otherwise, finalJson will be null.

finalJson contains the complete, valid JSON output generated by Gemini AI.

You can use engine.finalJson anywhere else in your project without creating additional getters.

## Example in Another File
package com.AutomatedTravelApp.travel;

import com.AutomatedTravelApp.travel.ai.AIEngine;
import com.AutomatedTravelApp.travel.model.Trip;
import com.AutomatedTravelApp.travel.dto.GenerateItineraryResponse;

public class MainApp {

    public static void main(String[] args) throws Exception {
        AIEngine engine = new AIEngine();

        Trip trip = ...; // create or fetch trip
        GenerateItineraryResponse responseData = ...; // create or fetch response

        engine.generateItineraryJson(trip, responseData); // generate JSON

        // Access the JSON directly
        System.out.println(engine.finalJson);
    }
}

## Notes

- AIEngine is designed to work with Gemini AI; make sure your API key and client configuration are correct.

- The JSON output strictly follows the format specified in the AI prompt, so it's fully compatible with parsers and front-end applications.
